<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>amenities</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <script
      src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
      integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
      integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link href="amenities.css" rel="stylesheet" />
  </head>

  <body>
    <nav class="navbar navbar-expand-lg" id="navbar" style="overflow: initial">
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarTogglerDemo03"
        aria-controls="navbarTogglerDemo03"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarTogglerDemo03">
        <ul class="navbar-nav">
          <li class="nav-item active ">
            <a class="nav-link"   href="index.html"
              >Home <span class="sr-only"></span
            ></a>
            <!-- dropdown
            dropdown-toggle
            id="navbarDropdown"
             role="button"
             data-toggle="dropdown"
             aria-haspopup="true"
             aria-expanded="false" -->
              
            <!-- <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="#">Floor Plan</a>
                <a class="dropdown-item" href="#">Maps</a>
                <a class="dropdown-item" href="#">Project Content</a>
                <a class="dropdown-item" href="#">Gallery</a>
                <a class="dropdown-item" href="amenities.html">Ameties</a>
                <a class="dropdown-item" href="#">Modal Flat</a>
                <a class="dropdown-item" href="#">Tech Specs</a>
                <a class="dropdown-item" href="#">Testimonial</a>
              </div> -->
          </li>
          <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="navbarDropdown"
                role="button"
                data-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
                >About</a
              >
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="#">Shiridi</a>
                <a class="dropdown-item" href="#">Project</a>
                <a class="dropdown-item" href="#">Location</a>
              </div>
            </li>
          <li class="nav-item">
            <a class="nav-link" href="loan.html">Loan</a>
            <!-- <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="#">FAQ</a>
              </div> -->
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">News</a>
          </li>

          <li class="nav-item">
            <a class="navbar-brand" href="index.html"
              ><img class="logo" src="images/Shirdi-Logo (1).png" alt=""
            /></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="brochure.html">Brochure</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="contact.html">Contact</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropbtn" href="#"><i class="fas fa-bars"></i></a>
            <div class="dropdown-content">
              <a href="buyersguide.html">Buyer"s Guide</a>
              <a href="completedprojects.html">Completed Projects</a>
              <a href="disclaimer.html">Disclaimer</a>
            </div>
          </li>
          <li class="nav-item">
            <button class="nav-link Contact contact-link" onclick="openNav()">
              Enquiry
            </button>
          </li>
        </ul>
      </div>
    </nav>
    <div id="mySidenav" class="sidenav">
      <div class="enquiry-header">
        <h5 class="enquiry-head">Enquiry Now</h5>
      <p class="enquiry-content">Will Get In Touch With You Shortly</p>
      </div>
      
		  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()"><i class="fa-solid fa-angle-right"></i></a>
      <div class="form">
  
        <div class="form-item">
          <label class="eq-label" for="username">NAME</label>
          <input class="eq-input" type="text" id="username"  >
        </div>
        <div class="form-item">
          <label class="eq-label" for="mail">E-MAIL</label>
          <input class="eq-input" type="mail" id="mail" >
        </div>
        <div class="form-item">
          <label class="eq-label" for="phone">MOBILE</label>
          <input class="eq-input" type="tel" id="phone" >
        </div>
        <div class="form-item">
          <label class="eq-label" for="phone">OTP</label>
          <input class="eq-input" type="tel" id="phone" >
        </div>
        <div class="form-item">
         
          <label class="eq-label" for="flat">PROJECTS</label>
             <select class="eq-input" name="flat" id="flat">
               <option value="whitefield II 4A">whitefield II 4A</option>

              </select>
        </div>
        <div class="form-item">
          <label class="eq-label" for="message">MESSAGE:</label>
          <textarea  class="eq-textarea" placeholder="Type here.........."  id="message" name="message" rows="4" cols="50">
        
          </textarea>
        </div>
        <button 
          id="submitBtn"
          class="eq-submit disabled" 
          onclick="sendEmailMsg()"
          disabled>
          SUBMIT
        </button> 
      </div> 
		</div>
    
    <div
      id="carouselExampleControls"
      class="carousel slide"
      data-ride="carousel"
    >
      <div class="carousel-inner">
        <div class="carousel-item active">
          <div class="cards-wrapper">
            <div class="card">
              <img src="images/cam.jpg" class="card-img-top" alt="..."  />
                <div class="overlay">
                <h5 class="card-title">24 x 7 survellience camera
                </h5>
                <p class="card-text">
                  Multi level security, we have ensured you to stay safe,always
                </p>
              </div>
            </div>
            <div class="card d-none d-md-block">
              <img src="images/intercom.jpg" class="card-img-top" alt="..."/>
              <div class="overlay">
                <h5 class="card-title">Intercom for all apartments</h5>
                <p class="card-text">
                    Intercom for all apartments with the security entry level
                </p>
              </div>
            </div>
            <div class="card d-none d-md-block">
              <img src="images/extinguisher.jpg" class="card-img-top" alt="..." />
              <div class="overlay">
                <h5 class="card-title">Fire Extinguisher</h5>
                <p class="card-text">
                 The fire extinguisher safe from tampering until times of emergency
                </p>
              </div>
            </div>
          </div>
        </div>
        
        <a
        class="carousel-control-prev"
        href="#carouselExampleControls"
        role="button"
        data-slide="prev"
      >
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a
        class="carousel-control-next"
        href="#carouselExampleControls"
        role="button"
        data-slide="next"
      >
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-analytics.js";
      import {
        RecaptchaVerifier,
        signInWithPhoneNumber,
        getAuth,
      } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyBtfoIjVPCWBpEUIlPLkOYfhp8hLUnZtOY",
        authDomain: "shiridishelters-31410.firebaseapp.com",
        projectId: "shiridishelters-31410",
        storageBucket: "shiridishelters-31410.appspot.com",
        messagingSenderId: "812464788085",
        appId: "1:812464788085:web:a309788676e1ddffb3de3c",
        measurementId: "G-5RWJMT7083",
      };

      const phone = document.getElementById("phone");
      const getOtp = document.getElementById("getOtp");
      let otp = document.getElementById("otp").value;
      const verifyBtn = document.getElementById("verifyBtn");
      const verifyIcon = document.getElementById("verifyIcon");
      const submitBtn = document.getElementById("submitBtn");

      // Initialize Firebase
      window.app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);
      window.auth = getAuth(app);
      window.generateRecaptcha = () => {
        console.log("generateRec");
        window.recaptchaVerifier = new RecaptchaVerifier(
          "recaptcha",
          {
            size: "invisible",
            callback: (response) => {
              // reCAPTCHA solved, allow signInWithPhoneNumber.
              console.log("response: ", response);
            },
          },
          auth
        );
      };

      window.sendOtpHandler = () => {
        // getOtp.disabled = true;
        if (phone.value.length === 10) {
          window.generateRecaptcha();

          const appVerifier = window.recaptchaVerifier;
          signInWithPhoneNumber(auth, `+91${phone.value}`, appVerifier)
            .then((confirmationResult) => {
              window.confirmationResult = confirmationResult;
              alert("OTP has been sent");
              verifyBtn.style.display = "block";
            })
            .catch((err) => {
              console.log(err);
              alert(
                "If you don't know the otp, please refresh the screen to get a new one!!!"
              );
            })
            .finally(() => {
              // setIsPending(false);
            });
        } else {
          alert("Mobile Number Invalid!!!");
        }
      };

      window.isVerified = false; // for validation when sending mail

      window.verifyHandler = () => {
        otp = document.getElementById("otp").value;
        console.log("otp", otp);
        const confirmationResult = window.confirmationResult;
        confirmationResult
          .confirm(otp)
          .then((result) => {
            console.log(result);
            // uid, phoneNumber
            // const { user } = result;
            // console.log("user: ", user);
            verifyBtn.style.display = "none";
            verifyIcon.style.display = "block";
            submitBtn.disabled = false;
            submitBtn.classList.remove("disabled");
            window.isVerified = true;
          })
          .catch((err) => {
            alert("wrong otp");
            console.log(err);
          })
          .finally(() => {
            // setIsPending(false);
          });
      };
    </script>
    <script src="./javascript/mail.js"></script>
    <script src="https://smtpjs.com/v3/smtp.js"></script>
    <script>
    function openNav() {
	    document.getElementById("mySidenav").style.width = "300px";
	}
	function closeNav() {
	    document.getElementById("mySidenav").style.width = "0";
	}
  </script>
  <script>
    function ValidateEmail(mail) {
      var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
      console.log(mail, " - mail.match - ", mail.match(mailformat));
      if (mail.match(mailformat)) {
        console.log("email matching");
        return true;
      } else {
        console.log("email not matching");
        return false;
      }
    }

    function sendEmailMsg() {
      console.log('mailll');
      const isVerified = window.isVerified;
      const username = document.getElementById("username");
      const mail = document.getElementById("mail");
      const message = document.getElementById("message");
      console.log("message", message, message.length);

      if (username.value.length === 0 || username.value === "") {
        alert("Please enter valid name!!!");
      } else if (!ValidateEmail(mail.value)) {
        alert("Please enter valid email id!!!");
      } else if (!isVerified) {
        alert("Please enter valid otp and verify to send e-mail!!!");
      } else if (message.value.length === 0 || message.value === "") {
        alert("Please enter valid message!!!");
      } else {
        sendEmail((isCompleted) => {
          if (isCompleted === true) {
            username.value = "";
            mail.value = "";
            message.value = "";
            phone.value = "";
            otp.value = "";
            document.getElementById("mySidenav").style.width = "0";
            alert("Mail received successfully, Thanks!!!");
          } else {
            console.log("mail error: ", isCompleted);
          }
        });
      }
    }
  </script>
  </body>
</html>
