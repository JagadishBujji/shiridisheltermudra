<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shiridi Shelters - loan</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <script
      src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
      integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
      integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <link href="loan.css" rel="stylesheet" />
  </head>
  <body>
    <nav class="navbar navbar-expand-lg" id="navbar" style="overflow: initial">
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarTogglerDemo03"
        aria-controls="navbarTogglerDemo03"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarTogglerDemo03">
        <ul class="navbar-nav">
          <li class="nav-item active">
            <a class="nav-link" href="index.html"
              >Home <span class="sr-only"></span
            ></a>
            <!-- id="navbarDropdown"
              role="button"
              data-toggle="dropdown"
              aria-haspopup="true"
              aria-expanded="false"  -->
            <!--  dropdown-toggle -->

            <!-- <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="#">Floor Plan</a>
              <a class="dropdown-item" href="#">Maps</a>
              <a class="dropdown-item" href="#">Project Content</a>
              <a class="dropdown-item" href="#">Gallery</a>
              <a class="dropdown-item" href="amenities.html">Ameties</a>
              <a class="dropdown-item" href="#">Modal Flat</a>
              <a class="dropdown-item" href="#">Tech Specs</a>
              <a class="dropdown-item" href="#">Testimonial</a>
            </div> -->
          </li>
          <li class="nav-item">
            <a class="nav-link" href="aboutus.html">About</a>
            <!-- dropdown-toggle
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="#">Shiridi</a>
              <a class="dropdown-item" href="#">Project</a>
              <a class="dropdown-item" href="#">Location</a>
            </div> -->
          </li>
          <li class="nav-item">
            <a class="nav-link" href="loan.html">Loan</a>
            <!-- <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="faq.html">FAQ</a>
            </div> -->
          </li>
          <li class="nav-item">
            <a class="nav-link" href="news.html">News</a>
          </li>

          <li class="nav-item">
            <a class="navbar-brand" href="#"
              ><img class="logo" src="images/Shirdi-Logo (1).png" alt=""
            /></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="brochure.html">Brochure</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="contact.html">Contact</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropbtn" href="#"><i class="fas fa-bars"></i></a>
            <div class="dropdown-content">
              <a href="buyersguide.html">Buyer"s Guide</a>
              <a href="completedprojects.html">Completed Projects</a>
              <a href="disclaimer.html">Disclaimer</a>
            </div>
          </li>
          <li class="nav-item">
            <button class="nav-link Contact contact-link" onclick="openNav()">
              Enquiry
            </button>
          </li>
        </ul>
      </div>
    </nav>
    <!-- mobile navbar  -->
    <div class="mobnavbar" id="mob-navbar">
      <ul class="nav-mob">
        <li class="navmob-item">
          <a href="brochure.html" class="icon-mob">
            <i class="fa-solid fa-house-user"></i>
            <p class="menu">Brochure</p>
          </a>
        </li>
        <li class="navmob-item">
          <a href="loan.html" class="icon-mob">
            <i class="fa-solid fa-circle-info"></i>
            <p class="menu">Loan</p>
          </a>
        </li>
        <li class="">
          <a href="index.html" class="icon-mob">
            <img class="mob-logo" src="images/Logo-mobile.png" alt="" />
          </a>
        </li>
        <li class="navmob-item">
          <a onclick="openNav()" class="icon-mob">
            <i class="fa-solid fa-phone"></i>
            <p class="menu">Enquiry</p>
          </a>
        </li>
        <li  class="navmob-item">
          <a class="icon-mob">
            <i class="fa-solid fa-bars"></i>
            <!-- <p class="menu">Menu</p> -->
            <label for="menuToggle" class="mb-0" >
              Menu
            </label>
          </a>
        </li>
      </ul>
    </div>

    <!--  -->
  <div id="menuArea">
    <input class="mobile-menu" type="checkbox" id="menuToggle"></input>
  
  <!-- <label for="menuToggle" class="menuOpen">
    <div class="open"></div>
  </label> -->
  
  <div class="menu1 menuEffects">
    <label class="mobile-label" for="menuToggle">
      <img src="images/reject.png" alt="" class="img-door"/>
    </label>
    <div class="menuContent">
      <ul class="mobile-menuul">
        <li class="mobile-menuli"><a class="mobile-a" href="aboutus.html">About</a></li>
        <li class="mobile-menuli"><a class="mobile-a" href="news.html">News</a></li>
        <li class="mobile-menuli"><a class="mobile-a" href="contact.html">Contact</a></li>
        <!-- <li class="mobile-menuli"><a class="mobile-a" href="#">Disclaimer</a></li> -->
      </ul>
    </div>
  </div>
  </div>
  <!--  -->
    <!--mobile navbar  -->
    <div id="mySidenav" class="sidenav">
      <div class="enquiry-header">
        <h5 class="enquiry-head">Enquiry Now</h5>
        <p class="enquiry-content">Will Get In Touch With You Shortly</p>
      </div>

      <a href="javascript:void(0)" class="closebtn" onclick="closeNav()"
        ><i class="fa-solid fa-angle-right"></i
      ></a>
      <div class="form">
        <div class="form-item">
          <label class="eq-label" for="username">NAME</label>
          <input class="eq-input" type="text" id="username" />
        </div>
        <div class="form-item">
          <label class="eq-label" for="mail">E-MAIL</label>
          <input class="eq-input" type="mail" id="mail" />
        </div>
        <div class="form-item">
          <label class="eq-label" for="phone">MOBILE</label>
          <p class="getotp">Get OTP</p>
          <input class="eq-input" type="tel" id="phone" />
        </div>
        <div class="form-item">
          <label class="eq-label" for="phone">OTP</label>
          <p class="verify">Verify</p>
          <input class="eq-input" type="tel" id="phone" />
        </div>
        <div class="form-item">
          <label class="eq-label" for="flat">PROJECTS</label>
          <select class="eq-input" name="flat" id="flat">
            <option value="whitefield II 4A">whitefield II 4A</option>
          </select>
        </div>
        <div class="form-item">
          <label class="eq-label" for="message">MESSAGE:</label>
          <textarea
            class="eq-textarea"
            placeholder="Type here.........."
            id="message"
            name="message"
            rows="4"
            cols="50"
          >
          </textarea>
        </div>
        <button
          id="submitBtn"
          class="eq-submit disabled"
          onclick="sendEmailMsg()"
          disabled
        >
          SUBMIT
        </button>
      </div>
    </div>
    <div class="container-fluid loanbanner">
      <div class="row">
        <div class="col-md-5"></div>
        <div class="col-md-7 loan-mobi">
          <h5 class="loan-heading m-0">Loan Calculator</h5>
          <ul id="carousel" class="elastislide-list">
            <li onclick="fun(0)">
              <a href="#"><img src="images/hdfc.png" alt="image01" /></a>
            </li>
            <li onclick="fun(1)">
              <a href="#"><img src="images/sbi.png" alt="image02" /></a>
            </li>
            <li onclick="fun(2)">
              <a href="#"><img src="images/ubi.png" alt="image03" /></a>
            </li>
            <li onclick="fun(3)">
              <a href="#"><img src="images/pnb.png" alt="image04" /></a>
            </li>
            <li onclick="fun(4)">
              <a href="#"><img src="images/BoB.png" alt="image05" /></a>
            </li>
          </ul>
          <div class="bankoption">
            <p class="m-0" style="color: #fff; font-size: 12px">
              Total: <span id="total">1000000</span>
            </p>
            <div class="banksinner">
              <!-- <article
                id="art"
                style="
                  border: 4px solid #1a4b83;
                  border-radius: 5px;
                  background-color: antiquewhite;
                  width: 100px;
                  height: 100px;
                  margin-top: 2%;
                "
              >
                <img
                  src="/images/hdfc.png"
                  alt="Bank Logo"
                  id="image"
                  height="100%"
                  width="100%"
                />
              </article>
              <select
                id="choose"
                style="
                  width: 100px;
                  font-size: 12px;
                  border: none;
                  color: #3d6892;
                "
                ;
                onchange="fun();"
              >
                <option selected class="bankselect">Select Bank</option>
                <option>SBI</option>
                <option>UBI</option>
                <option>PNB</option>
                <option>BOB</option>
                <option>HDFC</option>
              </select> -->
            </div>
          </div>

          <div class="downpayment">
            <input
              type="range"
              id="downPayment"
              min="0"
              max="100000"
              step="10000"
              value="200000"
            />
            <div class="detail">
              <p class="downpay">
                DownPayment: Rs.
                <span id="downPaymentText" style="color: #0b1c4c">2000000</span>
              </p>
              <p class="loanpay">
                Loan Payment: Rs.
                <span id="loanAmountText" style="color: #0b1c4c">8000000</span>
              </p>
            </div>
          </div>
          <div class="loandetails">
            <div>
              <p class="tenure">
                Tenure:
                <span id="loanPeriodText" style="color: #0b1c4c">12</span
                ><span style="color: #0b1c4c">Years</span>
              </p>
              <!-- <p id="loan-period-text" style="color: #6258A8"></p> -->
            </div>
            <input
              type="range"
              id="loanPeriod"
              min="1"
              max="30"
              value="12"
              class="tenureRange"
            />
          </div>
          <div class="loandetails">
            <div>
              <p class="interest">
                Interest Rate:
                <span id="interestRateText" style="color: #0b1c4c">6.5</span
                ><span style="color: #0b1c4c">%</span>
              </p>
              <!-- <p id="interest-rate-text" style="color: #6258A8"></p> -->
            </div>
            <input
              type="range"
              id="interestRate"
              min="1"
              max="15"
              step="0.5"
              value="6.5"
              disabled
              class="interestRange"
            />
          </div>
          <div class="emitext">
            <h6 class="indicative">
              <span>Indicative EMI: â‚¹</span> <span id="emi">866667</span> /
              Month
            </h6>
          </div>
          <div class="faqBtn">
            <a href="faq.html" class="btn btn-info" role="button"
              >Frequently Asked Questions</a
            >
          </div>
        </div>
      </div>
    </div>
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-analytics.js";
      import {
        RecaptchaVerifier,
        signInWithPhoneNumber,
        getAuth,
      } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyBtfoIjVPCWBpEUIlPLkOYfhp8hLUnZtOY",
        authDomain: "shiridishelters-31410.firebaseapp.com",
        projectId: "shiridishelters-31410",
        storageBucket: "shiridishelters-31410.appspot.com",
        messagingSenderId: "812464788085",
        appId: "1:812464788085:web:a309788676e1ddffb3de3c",
        measurementId: "G-5RWJMT7083",
      };

      const phone = document.getElementById("phone");
      const getOtp = document.getElementById("getOtp");
      let otp = document.getElementById("otp").value;
      const verifyBtn = document.getElementById("verifyBtn");
      const verifyIcon = document.getElementById("verifyIcon");
      const submitBtn = document.getElementById("submitBtn");

      // Initialize Firebase
      window.app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);
      window.auth = getAuth(app);
      window.generateRecaptcha = () => {
        console.log("generateRec");
        window.recaptchaVerifier = new RecaptchaVerifier(
          "recaptcha",
          {
            size: "invisible",
            callback: (response) => {
              // reCAPTCHA solved, allow signInWithPhoneNumber.
              console.log("response: ", response);
            },
          },
          auth
        );
      };

      window.sendOtpHandler = () => {
        // getOtp.disabled = true;
        if (phone.value.length === 10) {
          window.generateRecaptcha();

          const appVerifier = window.recaptchaVerifier;
          signInWithPhoneNumber(auth, `+91${phone.value}`, appVerifier)
            .then((confirmationResult) => {
              window.confirmationResult = confirmationResult;
              alert("OTP has been sent");
              verifyBtn.style.display = "block";
            })
            .catch((err) => {
              console.log(err);
              alert(
                "If you don't know the otp, please refresh the screen to get a new one!!!"
              );
            })
            .finally(() => {
              // setIsPending(false);
            });
        } else {
          alert("Mobile Number Invalid!!!");
        }
      };

      window.isVerified = false; // for validation when sending mail

      window.verifyHandler = () => {
        otp = document.getElementById("otp").value;
        console.log("otp", otp);
        const confirmationResult = window.confirmationResult;
        confirmationResult
          .confirm(otp)
          .then((result) => {
            console.log(result);
            // uid, phoneNumber
            // const { user } = result;
            // console.log("user: ", user);
            verifyBtn.style.display = "none";
            verifyIcon.style.display = "block";
            submitBtn.disabled = false;
            submitBtn.classList.remove("disabled");
            window.isVerified = true;
          })
          .catch((err) => {
            alert("wrong otp");
            console.log(err);
          })
          .finally(() => {
            // setIsPending(false);
          });
      };
    </script>
    <script src="./javascript/mail.js"></script>
    <script src="https://smtpjs.com/v3/smtp.js"></script>
    <script>
      function ValidateEmail(mail) {
        var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
        console.log(mail, " - mail.match - ", mail.match(mailformat));
        if (mail.match(mailformat)) {
          console.log("email matching");
          return true;
        } else {
          console.log("email not matching");
          return false;
        }
      }

      function sendEmailMsg() {
        const isVerified = window.isVerified;
        const username = document.getElementById("username");
        const mail = document.getElementById("mail");
        const message = document.getElementById("message");
        console.log("message", message, message.length);

        if (username.value.length === 0 || username.value === "") {
          alert("Please enter valid name!!!");
        } else if (!ValidateEmail(mail.value)) {
          alert("Please enter valid email id!!!");
        } else if (!isVerified) {
          alert("Please enter valid otp and verify to send e-mail!!!");
        } else if (message.value.length === 0 || message.value === "") {
          alert("Please enter valid message!!!");
        } else {
          sendEmail((isCompleted) => {
            if (isCompleted === true) {
              username.value = "";
              mail.value = "";
              message.value = "";
              phone.value = "";
              otp.value = "";
              document.getElementById("mySidenav").style.width = "0";
              alert("Mail received successfully, Thanks!!!");
            } else {
              console.log("mail error: ", isCompleted);
            }
          });
        }
      }
    </script>
    <script>
      var total = document.getElementById("total").innerText;
      var downPayment = document.getElementById("downPayment");
      var downPaymentText = document.getElementById("downPaymentText");
      var loanAmountText = document.getElementById("loanAmountText");
      var emi = document.getElementById("emi");
      var loanPeriod = document.getElementById("loanPeriod");
      var loanPeriodText = document.getElementById("loanPeriodText");
      var interest = document.getElementById("interestRate");

      downPayment.max = total;

      downPayment.oninput = (e) => {
        let value = e.target.value;
        downPaymentText.innerText = value;
        let p = parseInt(total) - parseInt(value);
        loanAmountText.innerText = p;
        let n = parseInt(loanPeriod.value) * 12;
        let r = parseFloat(interest.value) / 1200;
        let emilValue = (p * r * Math.pow(1 + r, n)) / (Math.pow(1 + r, n) - 1);
        emi.innerText = Math.round(emilValue);
      };

      loanPeriod.oninput = (e) => {
        let n = parseInt(e.target.value) * 12;
        loanPeriodText.innerText = n / 12;
        let p = parseInt(loanAmountText.innerText);
        let r = parseFloat(interest.value) / 1200;
        let emilValue = (p * r * Math.pow(1 + r, n)) / (Math.pow(1 + r, n) - 1);
        emi.innerText = Math.round(emilValue);
      };

      function fun(bankIndex) {
        // var select = document.getElementById("choose");
        // var img = document.createElement("img");
        // var artcle = document.getElementById("art");
        // var index=select.selectedIndex;
        var src_arr = [
          {
            img: "images/hdfc.png",
            interest: "8.65",
          },
          {
            img: "images/sbi.jpg",
            interest: "8.75",
          },
          {
            img: "images/ubi.png",
            interest: "8.25",
          },
          {
            img: "images/pnb.png",
            interest: "10.50",
          },
          {
            img: "images/bob.jpg",
            interest: "6.50",
          },
        ];
        var img = document.getElementById("image");
        // img.src = src_arr[bankIndex];
        var interest = document.getElementById("interestRate");
        var interestText = document.getElementById("interestRateText");

        // img.src = src_arr[bankIndex].img;
        interest.value = src_arr[bankIndex].interest;
        console.log("interest: ", src_arr[bankIndex].interest);
        interestText.innerText = src_arr[bankIndex].interest;

        let n = parseInt(loanPeriodText.innerText) * 12;
        let p = parseInt(loanAmountText.innerText);
        let r = parseFloat(src_arr[bankIndex].interest) / 1200;

        let emilValue = (p * r * Math.pow(1 + r, n)) / (Math.pow(1 + r, n) - 1);
        console.log("emi: ", emilValue);
        emi.innerText = Math.round(emilValue);
      }
    </script>
    <script>
      function openNav() {
        document.getElementById("mySidenav").style.width = "400px";
      }
      function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
      }
      /* Simple appearence with animation AN-1*/
    </script>
    <script src="https://tympanus.net/Development/Elastislide/js/modernizr.custom.17475.js"></script>
    <script
      type="text/javascript"
      src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://tympanus.net/Development/Elastislide/js/jquerypp.custom.js"
    ></script>
    <script
      type="text/javascript"
      src="https://tympanus.net/Development/Elastislide/js/jquery.elastislide.js"
    ></script>
    <script type="text/javascript">
      $("#carousel").elastislide({
        minItems: 2,
      });
    </script>

    <script
      type="text/javascript"
      src="https://tympanus.net/codrops/adpacks/demoad.js"
    ></script>
  </body>
</html>
